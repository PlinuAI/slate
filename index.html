
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#get-token" class="toc-h2 toc-link" data-title="Get Token">Get Token</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#administration-endpoints" class="toc-h1 toc-link" data-title="Administration Endpoints">Administration Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-users" class="toc-h2 toc-link" data-title="Get All Users">Get All Users</a>
                  </li>
                  <li>
                    <a href="#create-a-user" class="toc-h2 toc-link" data-title="Create a User">Create a User</a>
                  </li>
                  <li>
                    <a href="#change-password-for-a-user" class="toc-h2 toc-link" data-title="Change Password for a User">Change Password for a User</a>
                  </li>
                  <li>
                    <a href="#change-type-of-user" class="toc-h2 toc-link" data-title="Change Type of User">Change Type of User</a>
                  </li>
                  <li>
                    <a href="#change-active-status-for-a-user" class="toc-h2 toc-link" data-title="Change Active Status for a User">Change Active Status for a User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rule-endpoints" class="toc-h1 toc-link" data-title="Rule Endpoints">Rule Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#endpoint-new-usernames" class="toc-h2 toc-link" data-title="Endpoint: New Usernames">Endpoint: New Usernames</a>
                  </li>
                  <li>
                    <a href="#endpoint-get-stats" class="toc-h2 toc-link" data-title="Endpoint: Get Stats">Endpoint: Get Stats</a>
                  </li>
                  <li>
                    <a href="#endpoint-get-category" class="toc-h2 toc-link" data-title="Endpoint: Get Category">Endpoint: Get Category</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Plinu ML API! </p>

<p>You can use our API to access the Machine Learning endpoints, which will give you predictions based on the models created for you.</p>

<p>We have language bindings in Shell, Python, and JavaScript! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>The menu on the right contains the index for all the endpoints currently created and has a search bar.</p>

<aside class="success">
Make sure to replace <code>{server_ip}</code> with your ip address, <code>{user} {password}</code> with the correct information, <code>{token}</code> with the correct token and <code>{model_id}</code> with the correct model.
</aside>
<h2 id='authentication'>Authentication</h2>
<aside class="notice">
All <strong>Authentication</strong> endpoints do <strong>NOT</strong> require <code>ADMIN</code> user type to access. 
</aside>

<p>Plinu, when used inside a secure infrastructure, uses HTTPBasicAuth to allow access to the API. The port used to comunicate with the API is:</p>

<p><code>Port 80</code></p>

<p>Plinu expects a <strong>Authentication Token</strong> to be used for <strong>all endpoints</strong> requests, but user and password can still be used:</p>

<p><code>Authorization: Basic {token}</code></p>

<p><code>Authorization: Basic {user}:{password}</code></p>
<h2 id='get-token'>Get Token</h2>
<blockquote>
<p>To receive a token use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X GET http://<span class="nv">$server_ip</span>/api/v1/get_token
<span class="c"># or</span>
curl -u <span class="nv">$token</span>:none -i -X GET http://<span class="nv">$server_ip</span>/api/v1/get_token  
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/get_token'</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">'GET'</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// variables to be used</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/get_token"</span><span class="p">;</span>
<span class="c1">// command settings</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="c1">// for User Password Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">user</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">)</span>
        <span class="c1">// for Token Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">token</span> <span class="o">+</span> <span class="s2">":None"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above request should return a JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{token with 600 sec duration}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a <strong>Authentication Token</strong> for further calls. You can receive a new token using <code>{user} {password}</code> information or a <code>previous {token}</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET http://{server_ip}/api/v1/get_token</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None</td>
<td>none</td>
<td>No parameters needed for this endpoint.</td>
</tr>
</tbody></table>
<h1 id='administration-endpoints'>Administration Endpoints</h1>
<aside class="warning">
All <strong>Administration</strong> endpoints require <code>ADMIN</code> user type to access.
</aside>

<p>The following endpoint are all focused on <strong>user administration</strong>. All endpoints are named after the action they will perform.</p>
<h2 id='get-all-users'>Get All Users</h2>
<blockquote>
<p>To get a JSON with all the users in the DB use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X GET http://<span class="nv">$server_ip</span>/api/v1/get_users
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X GET http://<span class="nv">$server_ip</span>/api/v1/get_users   
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/get_users'</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s">'GET'</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">,</span> <span class="n">allow_redirects</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// variables to be used</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/get_users"</span><span class="p">;</span>
<span class="c1">// command settings</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="c1">// for User Password Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">user</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">)</span>
        <span class="c1">// for Token Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">token</span> <span class="o">+</span> <span class="s2">":None"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plinu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plinu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email_1@plinu.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User 1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plinu"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email_2@plinu.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User 2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all users in the DB and presents them as a JSON.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET http://{server_ip}/api/v1/get_users</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None</td>
<td>none</td>
<td>No parameters needed for this endpoint.</td>
</tr>
</tbody></table>
<h2 id='create-a-user'>Create a User</h2>
<blockquote>
<p>To create a new user in the DB use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","name":"user","password":"python","type":"User"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/signup
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","name":"user","password":"python","type":"User"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/signup 
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/signup'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"email"</span><span class="p">:</span> <span class="s">"test_user2@plinu.com"</span><span class="p">,</span> <span class="s">"name"</span><span class="p">:</span> <span class="s">"user"</span><span class="p">,</span> <span class="s">"password"</span><span class="p">:</span> <span class="s">"python"</span><span class="p">,</span><span class="s">"type"</span><span class="p">:</span> <span class="s">"User"</span><span class="p">}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// variables to be used</span>
<span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/signup"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s2">"email"</span><span class="p">:</span> <span class="s2">"test_user@plinu.com"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"user"</span><span class="p">,</span> <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"python"</span><span class="p">,</span><span class="s2">"type"</span><span class="p">:</span> <span class="s2">"User"</span><span class="p">});</span>
<span class="c1">// command settings</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="c1">// for User Password Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">user</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">)</span>
        <span class="c1">// for Token Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">token</span> <span class="o">+</span> <span class="s2">":None"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_user@plinu.com created"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates new users in the DB. All new users will have the active status as <strong>true</strong> by default and will be assigned to the <strong>company</strong> of the <strong>Admin user</strong> that created them.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://{server_ip}/api/v1/singup</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string (100)</td>
<td><strong>Primary key</strong>: Unique email address for new user.</td>
</tr>
<tr>
<td>name</td>
<td>string (100)</td>
<td>New user name.</td>
</tr>
<tr>
<td>password</td>
<td>string (100)</td>
<td>New user password.</td>
</tr>
<tr>
<td>type</td>
<td>string (Admin, User)</td>
<td>User type for the new user.</td>
</tr>
</tbody></table>
<h2 id='change-password-for-a-user'>Change Password for a User</h2>
<blockquote>
<p>To change the password for a user in the DB use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","new password":"pythons"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/change_pass  
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","new password":"pythons"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/change_pass  
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/change_pass'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"email"</span><span class="p">:</span> <span class="s">"test_user@plinu.com"</span><span class="p">,</span> <span class="s">"new password"</span><span class="p">:</span> <span class="s">"pythons"</span><span class="p">}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span> <span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/change_pass"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s2">"email"</span><span class="p">:</span> <span class="s2">"test_user@plinu.com"</span><span class="p">,</span> <span class="s2">"new password"</span><span class="p">:</span> <span class="s2">"pythons"</span><span class="p">});</span>
<span class="c1">// command settings</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="c1">// for User Password Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">user</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">)</span>
        <span class="c1">// for Token Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">token</span> <span class="o">+</span> <span class="s2">":None"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password changed"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint changes a specific users&#39;s password. At this point there are no restrictions for the password in terms of characters that should be used, just the length to 100 characters.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST http://{server_ip}/api/v1/change_pass</code></p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string (100)</td>
<td><strong>Primary key</strong>: Unique email address for new user.</td>
</tr>
<tr>
<td>new password</td>
<td>string (100)</td>
<td>New password for user.</td>
</tr>
</tbody></table>
<h2 id='change-type-of-user'>Change Type of User</h2>
<blockquote>
<p>To change the user type in the DB use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","type":"Admin"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/change_user_type
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","type":"Admin"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/change_user_type  
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/change_user_type'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"email"</span><span class="p">:</span> <span class="s">"test_user@plinu.com"</span><span class="p">,</span> <span class="s">"type"</span><span class="p">:</span> <span class="s">"Admin"</span><span class="p">}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span> <span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/change_user_type"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s2">"email"</span><span class="p">:</span> <span class="s2">"test_user@plinu.com"</span><span class="p">,</span> <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"Admin"</span><span class="p">});</span>
<span class="c1">// command settings</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="c1">// for User Password Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">user</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">)</span>
        <span class="c1">// for Token Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">token</span> <span class="o">+</span> <span class="s2">":None"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"type changed to {Admin, User}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint changes the user type for a specific user. The types of users allowed are <strong>&quot;Admin&quot;</strong> or <strong>&quot;User&quot;</strong>.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST http://{server_ip}/api/v1/change_user_type</code></p>
<h3 id='query-parameters-5'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string (100)</td>
<td><strong>Primary key</strong>: Unique email address for new user.</td>
</tr>
<tr>
<td>new type</td>
<td>string (&quot;Admin&quot;, &quot;User&quot;)</td>
<td>New type for user.</td>
</tr>
</tbody></table>
<h2 id='change-active-status-for-a-user'>Change Active Status for a User</h2>
<blockquote>
<p>To change the active status for a user in the DB use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","active":"false"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/change_user_status
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"email":"test_user@plinu.com","active":"false"}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/change_user_status  
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/change_user_status'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"email"</span><span class="p">:</span> <span class="s">"test_user@plinu.com"</span><span class="p">,</span> <span class="s">"active"</span><span class="p">:</span> <span class="s">"false"</span><span class="p">}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span> <span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/change_user_status"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s2">"email"</span><span class="p">:</span> <span class="s2">"test_user@plinu.com"</span><span class="p">,</span> <span class="s2">"active"</span><span class="p">:</span> <span class="s2">"true"</span><span class="p">});</span>
<span class="c1">// command settings</span>
<span class="kd">var</span> <span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="s1">'json'</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
        <span class="c1">// for User Password Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">user</span> <span class="o">+</span> <span class="s2">":"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">)</span>
        <span class="c1">// for Token Auth use</span>
        <span class="s2">"Authorization"</span><span class="p">:</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">token</span> <span class="o">+</span> <span class="s2">":None"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status changed to {true, false}"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint changes the active status for a specific user. The active status allowed are <strong>&quot;true&quot;</strong> or <strong>&quot;false&quot;</strong>.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST http://{server_ip}/api/v1/change_user_status</code></p>
<h3 id='query-parameters-6'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>string (100)</td>
<td><strong>Primary key</strong>: Unique email address for new user.</td>
</tr>
<tr>
<td>new status</td>
<td>boolean (&quot;true&quot;, &quot;false&quot;)</td>
<td>New status for user.</td>
</tr>
</tbody></table>
<h1 id='rule-endpoints'>Rule Endpoints</h1>
<aside class="notice">
All <strong>Prediction</strong> endpoints do <strong>NOT</strong> require <code>ADMIN</code> user type to access. 
</aside>

<p>The following endpoints give you the ability to add usernames, get stats, and get categories based on rules:</p>

<ul>
<li><strong>new_usernames</strong>: check a new username or group of usernames stats in <em>grin.co</em> and insert them into the DB.</li>
<li><strong>get_stats</strong>: get a username or group of usernames stats if they exist in the DB.</li>
<li><strong>get_category</strong>: check a username or group of usernames stats already in DB</li>
</ul>

<p>Each endpoint can either have a <strong>GET</strong> method or a <strong>POST</strong> method but not both.</p>

<p><strong>HTTP Request</strong></p>

<p><code>POST http://{server_ip}/api/v1/new_usernames</code></p>

<p><code>GET http://{server_ip}/api/v1/get_stats</code></p>

<p><code>GET http://{server_ip}/api/v1/get_category</code></p>
<h2 id='endpoint-new-usernames'>Endpoint: New Usernames</h2>
<blockquote>
<p>To add a new username or a group of usernames into the db and get their stats use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"usernames":["username1","username2", ...]}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/new_usernames
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X POST <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"usernames":["username1","username2", ...]}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/new_usernames
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/new_usernames'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"usernames"</span><span class="p">:</span> <span class="p">[</span><span class="s">"username1"</span><span class="p">,</span><span class="s">"username2"</span><span class="p">,</span> <span class="o">...</span><span class="p">]}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span> <span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/new_usernames;
var data = JSON.stringify({"</span><span class="nx">usernames</span><span class="s2">":["</span><span class="nx">username1</span><span class="s2">","</span><span class="nx">username2</span><span class="s2">", ...]});
// command settings
var settings = {
    url: url,
    method: "</span><span class="nx">POST</span><span class="s2">",
    dataType: 'json',
    data: data,
    headers: {
        "</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="s2">": "</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="s2">",
        // for User Password Auth use
        "</span><span class="nx">Authorization</span><span class="s2">": "</span><span class="nx">Basic</span> <span class="s2">" + btoa(user + "</span><span class="p">:</span><span class="s2">" + password)
        // for Token Auth use
        "</span><span class="nx">Authorization</span><span class="s2">": "</span><span class="nx">Basic</span> <span class="s2">" + btoa(token + "</span><span class="p">:</span><span class="nx">None</span><span class="err">"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="nx">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"159.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"7.55"</span><span class="p">,</span><span class="w"> </span><span class="s2">"33.0"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username1"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gl"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"324900000.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.32"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6600.0"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username2"</span><span class="w">
    </span><span class="p">},</span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is for <strong>New Usernames</strong> and using the backend will check if they are already in the DB, if not, it will 
use <em>grin.co</em> to extract their stats and add them to the DB, returning the stats and category. If a username is 
already in the DB, it will reply with an error.</p>

<aside class="warning">
<strong>Caution</strong> this endpoint can take long to answer depending on webpage <code>grin.co</code> response.
</aside>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST http://{server_ip}/api/v1/new_usernames</code></p>
<h3 id='query-parameters-7'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>usernames</td>
<td>Array<String></td>
<td>Array containing a username or group of usernames in <strong>String</strong> values</td>
</tr>
</tbody></table>
<h2 id='endpoint-get-stats'>Endpoint: Get Stats</h2>
<blockquote>
<p>To get the statistics of a username or a group of usernames already in the db use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X GET <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"usernames":["username1","username2", ...]}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/get_stats
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X GET <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"usernames":["username1","username2", ...]}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/get_stats
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/get_stats'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"usernames"</span><span class="p">:</span> <span class="p">[</span><span class="s">"username1"</span><span class="p">,</span><span class="s">"username2"</span><span class="p">,</span> <span class="o">...</span><span class="p">]}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span> <span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/get_stats;
var data = JSON.stringify({"</span><span class="nx">usernames</span><span class="s2">":["</span><span class="nx">username1</span><span class="s2">","</span><span class="nx">username2</span><span class="s2">", ...]});
// command settings
var settings = {
    url: url,
    method: "</span><span class="nx">GET</span><span class="s2">",
    dataType: 'json',
    data: data,
    headers: {
        "</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="s2">": "</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="s2">",
        // for User Password Auth use
        "</span><span class="nx">Authorization</span><span class="s2">": "</span><span class="nx">Basic</span> <span class="s2">" + btoa(user + "</span><span class="p">:</span><span class="s2">" + password)
        // for Token Auth use
        "</span><span class="nx">Authorization</span><span class="s2">": "</span><span class="nx">Basic</span> <span class="s2">" + btoa(token + "</span><span class="p">:</span><span class="nx">None</span><span class="err">"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="nx">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Br"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"159.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"7.55"</span><span class="p">,</span><span class="w"> </span><span class="s2">"33.0"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username1"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gl"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"324900000.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.32"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6600.0"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username2"</span><span class="w">
    </span><span class="p">},</span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is for <strong>Get Stats</strong> and will return the stats and category of a user or group of users if they are 
already in the DB. If a username is <strong>NOT</strong> in the DB, it will reply with an error.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET http://{server_ip}/api/v1/get_stats</code></p>
<h3 id='query-parameters-8'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>usernames</td>
<td>Array<String></td>
<td>Array containing a username or group of usernames in <strong>String</strong> values</td>
</tr>
</tbody></table>
<h2 id='endpoint-get-category'>Endpoint: Get Category</h2>
<blockquote>
<p>To get the category of a username or a group of usernames already in the db use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># variables to be used</span>
<span class="nv">user</span><span class="o">={</span>user<span class="o">}</span>
<span class="nv">password</span><span class="o">={</span>password<span class="o">}</span>
<span class="nv">server_ip</span><span class="o">={</span>server_ip<span class="o">}</span>
<span class="nv">token</span><span class="o">={</span>token<span class="o">}</span>
<span class="c"># command</span>
curl -u <span class="nv">$token</span>:none -i -X GET <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"usernames":["username1","username2", ...]}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/get_category
<span class="c"># or</span>
curl -u <span class="nv">$user</span>:<span class="nv">$password</span> -i -X GET <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{"usernames":["username1","username2", ...]}'</span> <span class="se">\</span>
  http://<span class="nv">$server_ip</span>/api/v1/get_category
</code></pre><pre class="highlight python tab-python"><code><span class="c"># variables to be used</span>
<span class="n">user</span> <span class="o">=</span> <span class="p">{</span><span class="n">user</span><span class="p">}</span>
<span class="n">password</span> <span class="o">=</span> <span class="p">{</span><span class="n">password</span><span class="p">}</span>
<span class="n">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="n">server_ip</span><span class="p">}</span>
<span class="n">token</span> <span class="o">=</span> <span class="p">{</span><span class="n">token</span><span class="p">}</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'http://'</span> <span class="o">+</span> <span class="n">server_ip</span> <span class="o">+</span> <span class="s">'/api/v1/get_category'</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"usernames"</span><span class="p">:</span> <span class="p">[</span><span class="s">"username1"</span><span class="p">,</span><span class="s">"username2"</span><span class="p">,</span> <span class="o">...</span><span class="p">]}</span>
<span class="c"># imports</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="c"># auth using User Password</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="c"># auth using Token</span>
<span class="n">basic_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="c"># command</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">data</span> <span class="p">,</span><span class="n">auth</span><span class="o">=</span><span class="n">basic_auth</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span><span class="nx">user</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="p">{</span><span class="nx">password</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">server_ip</span> <span class="o">=</span> <span class="p">{</span><span class="nx">server_ip</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">token</span> <span class="o">=</span> <span class="p">{</span><span class="nx">token</span><span class="p">}</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">"http://"</span><span class="o">+</span><span class="nx">server_ip</span><span class="o">+</span><span class="s2">"/api/v1/get_category;
var data = JSON.stringify({"</span><span class="nx">usernames</span><span class="s2">":["</span><span class="nx">username1</span><span class="s2">","</span><span class="nx">username2</span><span class="s2">", ...]});
// command settings
var settings = {
    url: url,
    method: "</span><span class="nx">GET</span><span class="s2">",
    dataType: 'json',
    data: data,
    headers: {
        "</span><span class="nx">Content</span><span class="o">-</span><span class="nx">Type</span><span class="s2">": "</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="s2">",
        // for User Password Auth use
        "</span><span class="nx">Authorization</span><span class="s2">": "</span><span class="nx">Basic</span> <span class="s2">" + btoa(user + "</span><span class="p">:</span><span class="s2">" + password)
        // for Token Auth use
        "</span><span class="nx">Authorization</span><span class="s2">": "</span><span class="nx">Basic</span> <span class="s2">" + btoa(token + "</span><span class="p">:</span><span class="nx">None</span><span class="err">"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nx">timeout</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">success</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">));</span>
    <span class="p">},</span>
    <span class="nx">error</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">error</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// command</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">(</span><span class="nx">settings</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"group_category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gl"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ind_categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Br"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username1"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gl"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username2"</span><span class="w">
        </span><span class="p">},</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint is for <strong>Get Category</strong> and will return the category of a user or group of users if they are 
already in the DB. If a username is <strong>NOT</strong> in the DB, it will reply with an error.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET http://{server_ip}/api/v1/get_category</code></p>
<h3 id='query-parameters-9'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>usernames</td>
<td>Array<String></td>
<td>Array containing a username or group of usernames in <strong>String</strong> values</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<blockquote>
<p>Error output</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP/1.0 {Code} {Meaning}
Content-Type: application/json
Content-Length: {length of content}
Server: Werkzeug/{version} Python/{version}
Date: {day}, {# day} {month} {year} hh:mm:ss GMT

{
  "{error type}": "{explanation of the error}"
}
</code></pre>
<p>All errors in the Plinu API return an error code and a JSON with error type and an explanation of the error.</p>

<p>The Plinu API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid, you missed an element of the data.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your {user} {password} information is incorrect or your {token} is invalid or your user is inactive.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Your user does not have the appropiate permissions for this action.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- Variables, model, p2d or endpoint not found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an endpoint with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>504</td>
<td>Gateway Timeout -- The webpage grin.co did not respond within the max time. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
